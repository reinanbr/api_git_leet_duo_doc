<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>API Git Leet Duo - Documentation</title>
        
        <!-- Prism.js CSS -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
        <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
        
        <style>
            :root {
                --bg-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                --bg-secondary: white;
                --text-primary: #333;
                --text-secondary: white;
                --border-color: #dee2e6;
                --section-bg: #f8f9fa;
                --url-bg: #e9ecef;
                --url-color: #495057;
            }

            [data-theme="dark"] {
                --bg-primary: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
                --bg-secondary: #2d3748;
                --text-primary: #e2e8f0;
                --text-secondary: #f7fafc;
                --border-color: #4a5568;
                --section-bg: #1a202c;
                --url-bg: #4a5568;
                --url-color: #e2e8f0;
            }

            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                line-height: 1.6;
                color: var(--text-primary);
                background: var(--bg-primary);
                min-height: 100vh;
                transition: all 0.3s ease;
            }
            
            .container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
            }

            .theme-toggle {
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--bg-secondary);
                border: 2px solid var(--border-color);
                color: var(--text-primary);
                padding: 10px 15px;
                border-radius: 25px;
                cursor: pointer;
                font-size: 1.1rem;
                transition: all 0.3s ease;
                z-index: 1000;
            }

            .theme-toggle:hover {
                transform: scale(1.05);
                box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            }

            .fork-me {
                position: fixed;
                top: 20px;
                right: 100px;
                background: #24292e;
                color: white;
                text-decoration: none;
                padding: 8px 12px;
                border-radius: 5px;
                font-size: 0.9rem;
                font-weight: bold;
                z-index: 1000;
                transition: all 0.3s ease;
                box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            }

            .fork-me:hover {
                background: #0366d6;
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                color: white;
                text-decoration: none;
            }

            .fork-me::before {
                content: "🔗";
                margin-right: 5px;
            }
            
            .header {
                text-align: center;
                color: var(--text-secondary);
                margin-bottom: 40px;
            }
            
            .header h1 {
                font-size: 3rem;
                margin-bottom: 10px;
                text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            }
            
            .header p {
                font-size: 1.2rem;
                opacity: 0.9;
            }
            
            .api-section {
                background: var(--bg-secondary);
                border-radius: 10px;
                padding: 30px;
                margin-bottom: 30px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                transition: all 0.3s ease;
            }
            
            .api-section h2 {
                color: #667eea;
                margin-bottom: 20px;
                font-size: 2rem;
                border-bottom: 3px solid #667eea;
                padding-bottom: 10px;
            }
            
            .endpoint {
                background: var(--section-bg);
                border-left: 4px solid #667eea;
                padding: 20px;
                margin: 20px 0;
                border-radius: 5px;
                transition: all 0.3s ease;
            }
            
            .endpoint h3 {
                color: var(--text-primary);
                margin-bottom: 10px;
                font-size: 1.3rem;
            }
            
            .method {
                display: inline-block;
                background: #28a745;
                color: white;
                padding: 5px 10px;
                border-radius: 3px;
                font-weight: bold;
                margin-right: 10px;
            }
            
            .url {
                font-family: 'Courier New', monospace;
                background: var(--url-bg);
                padding: 5px 10px;
                border-radius: 3px;
                color: var(--url-color);
            }
            
            .test-form {
                margin-top: 15px;
                padding: 15px;
                background: var(--bg-secondary);
                border-radius: 5px;
                border: 1px solid var(--border-color);
            }
            
            .test-form input {
                padding: 8px 12px;
                border: 1px solid var(--border-color);
                border-radius: 4px;
                margin-right: 10px;
                width: 200px;
                background: var(--bg-secondary);
                color: var(--text-primary);
            }
            
            .test-form button {
                background: #667eea;
                color: white;
                border: none;
                padding: 8px 16px;
                border-radius: 4px;
                cursor: pointer;
                transition: background 0.3s;
            }
            
            .test-form button:hover {
                background: #5a6fd8;
            }
            
            .response {
                margin-top: 15px;
                padding: 15px;
                background: var(--section-bg);
                border-radius: 5px;
                border: 1px solid var(--border-color);
                max-height: 300px;
                overflow-y: auto;
                display: none;
            }
            
            .response pre {
                margin: 0;
                white-space: pre-wrap;
                word-wrap: break-word;
                color: var(--text-primary);
                background: var(--section-bg);
                padding: 15px;
                border-radius: 5px;
                border: 1px solid var(--border-color);
            }
            
            .response code {
                background: transparent;
                color: inherit;
                padding: 0;
                border-radius: 0;
                font-family: 'Courier New', monospace;
                font-size: 0.9rem;
            }
            
            .loading {
                color: #667eea;
                font-style: italic;
            }
            
            .error {
                color: #dc3545;
            }
            
            .success {
                color: #28a745;
            }
            
            .intro-content {
                color: var(--text-primary);
            }

            .intro-content p {
                margin-bottom: 20px;
                font-size: 1.1rem;
                line-height: 1.7;
            }

            .platforms {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 20px;
                margin: 30px 0;
            }

            .platform {
                background: var(--section-bg);
                padding: 20px;
                border-radius: 8px;
                border-left: 4px solid #667eea;
            }

            .platform h3 {
                color: #667eea;
                margin-bottom: 10px;
                font-size: 1.3rem;
            }

            .platform p {
                margin: 0;
                font-size: 1rem;
            }

            .api-info {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
                margin-top: 30px;
            }

            .info-card {
                background: var(--section-bg);
                padding: 20px;
                border-radius: 8px;
                border: 1px solid var(--border-color);
            }

            .info-card h4 {
                color: #667eea;
                margin-bottom: 15px;
                font-size: 1.2rem;
            }

            .info-card p {
                margin: 8px 0;
                font-size: 0.95rem;
            }

            .info-card code {
                background: var(--url-bg);
                color: var(--url-color);
                padding: 2px 6px;
                border-radius: 3px;
                font-family: 'Courier New', monospace;
                font-size: 0.9rem;
            }

            .status-online {
                color: #28a745;
                font-weight: bold;
            }

            .footer {
                text-align: center;
                color: var(--text-secondary);
                margin-top: 40px;
                opacity: 0.8;
            }
        </style>
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->
        <div class="container">
            <a href="https://github.com/reinanbr/api_git_leet_duo" target="_blank" class="fork-me">
                Fork me on GitHub
            </a>
            
            <button class="theme-toggle" onclick="toggleTheme()" id="theme-toggle">
                🌙
            </button>
            
            <div class="header">
                <h1>🚀 API Git Leet Duo</h1>
                <p>Comprehensive API for GitHub, LeetCode, and Duolingo data</p>
            </div>

            <div class="api-section">
                <h2>📋 About the API</h2>
                <div class="intro-content">
                    <p>The <strong>API Git Leet Duo</strong> is a RESTful API that provides integrated data from three popular development and learning platforms:</p>
                    
                    <div class="platforms">
                        <div class="platform">
                            <h3>📊 GitHub</h3>
                            <p>Profile information, repositories, programming languages, contribution streaks, and commit history.</p>
                        </div>
                        <div class="platform">
                            <h3>💻 LeetCode</h3>
                            <p>Complete user statistics, solved problems, ranking, and competition performance.</p>
                        </div>
                        <div class="platform">
                            <h3>🦉 Duolingo</h3>
                            <p>User profile, course progress, achievements, and learning statistics.</p>
                        </div>
                    </div>

                    <div class="api-info">
                        <div class="info-card">
                            <h4>🌐 Production API</h4>
                            <p><strong>Base URL:</strong> <code>https://api-git-leet-duo.vercel.app</code></p>
                            <p><strong>Status:</strong> <span class="status-online">🟢 Online</span></p>
                        </div>
                        <div class="info-card">
                            <h4>📚 Documentation</h4>
                            <p>Test all routes directly on this page</p>
                            <p>Response format: <code>JSON</code></p>
                        </div>
                        <div class="info-card">
                            <h4>🔧 How to Use</h4>
                            <p>Add the parameter <code>?user=username</code> to any endpoint</p>
                            <p>Example: <code>/api/git/user?user=reinanbr</code></p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="api-section">
                <h2>📊 GitHub API</h2>
                
                <div class="endpoint">
                    <h3><span class="method">GET</span> <span class="url">/api/git/user</span></h3>
                    <p>Get user profile information from GitHub</p>
                    <div class="test-form">
                        <input type="text" id="git-user-input" placeholder="GitHub username" value="reinanbr">
                        <button onclick="testGitUser()">Test API</button>
                        <div id="git-user-response" class="response"></div>
                    </div>
                </div>

                <div class="endpoint">
                    <h3><span class="method">GET</span> <span class="url">/api/git/repos</span></h3>
                    <p>Get user repositories with language information</p>
                    <div class="test-form">
                        <input type="text" id="git-repos-input" placeholder="GitHub username" value="reinanbr">
                        <button onclick="testGitRepos()">Test API</button>
                        <div id="git-repos-response" class="response"></div>
                    </div>
                </div>

                <div class="endpoint">
                    <h3><span class="method">GET</span> <span class="url">/api/git/repos_count</span></h3>
                    <p>Get the total count of user repositories</p>
                    <div class="test-form">
                        <input type="text" id="git-repos-count-input" placeholder="GitHub username" value="reinanbr">
                        <button onclick="testGitReposCount()">Test API</button>
                        <div id="git-repos-count-response" class="response"></div>
                    </div>
                </div>

                <div class="endpoint">
                    <h3><span class="method">GET</span> <span class="url">/api/git/langs</span></h3>
                    <p>Get programming languages used by the user</p>
                    <div class="test-form">
                        <input type="text" id="git-langs-input" placeholder="GitHub username" value="reinanbr">
                        <button onclick="testGitLangs()">Test API</button>
                        <div id="git-langs-response" class="response"></div>
                    </div>
                </div>

                <div class="endpoint">
                    <h3><span class="method">GET</span> <span class="url">/api/git/streak</span></h3>
                    <p>Get user's contribution streak information</p>
                    <div class="test-form">
                        <input type="text" id="git-streak-input" placeholder="GitHub username" value="reinanbr">
                        <button onclick="testGitStreak()">Test API</button>
                        <div id="git-streak-response" class="response"></div>
                    </div>
                </div>

                <div class="endpoint">
                    <h3><span class="method">GET</span> <span class="url">/api/git/commit</span></h3>
                    <p>Get detailed commit history and contribution calendar</p>
                    <div class="test-form">
                        <input type="text" id="git-commit-input" placeholder="GitHub username" value="reinanbr">
                        <button onclick="testGitCommit()">Test API</button>
                        <div id="git-commit-response" class="response"></div>
                    </div>
                </div>
            </div>

            <div class="api-section">
                <h2>💻 LeetCode API</h2>
                
                <div class="endpoint">
                    <h3><span class="method">GET</span> <span class="url">/api/leet/user</span></h3>
                    <p>Get comprehensive user statistics from LeetCode</p>
                    <div class="test-form">
                        <input type="text" id="leet-user-input" placeholder="LeetCode username" value="reinanbr">
                        <button onclick="testLeetUser()">Test API</button>
                        <div id="leet-user-response" class="response"></div>
                    </div>
                </div>
            </div>

            <div class="api-section">
                <h2>🦉 Duolingo API</h2>
                
                <div class="endpoint">
                    <h3><span class="method">GET</span> <span class="url">/api/duo/user</span></h3>
                    <p>Get user profile and course progress from Duolingo</p>
                    <div class="test-form">
                        <input type="text" id="duo-user-input" placeholder="Duolingo username" value="reinanbr">
                        <button onclick="testDuoUser()">Test API</button>
                        <div id="duo-user-response" class="response"></div>
                    </div>
                </div>
            </div>

            <div class="footer">
                <p>Made with ❤️ | API Git Leet Duo</p>
            </div>
        </div>

        <!-- Prism.js JavaScript -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
        
        <script>
            // Theme management
            let currentTheme = localStorage.getItem('theme') || 'light';
            
            function toggleTheme() {
                currentTheme = currentTheme === 'light' ? 'dark' : 'light';
                document.documentElement.setAttribute('data-theme', currentTheme);
                localStorage.setItem('theme', currentTheme);
                
                const toggleBtn = document.getElementById('theme-toggle');
                toggleBtn.innerHTML = currentTheme === 'light' ? '🌙' : '☀️';
                
                // Update Prism theme
                updatePrismTheme();
            }
            
            function updatePrismTheme() {
                const prismLinks = document.querySelectorAll('link[href*="prism"]');
                prismLinks.forEach(link => {
                    if (currentTheme === 'dark') {
                        if (link.href.includes('prism-tomorrow')) {
                            link.disabled = false;
                        } else if (link.href.includes('prism.min.css')) {
                            link.disabled = true;
                        }
                    } else {
                        if (link.href.includes('prism-tomorrow')) {
                            link.disabled = true;
                        } else if (link.href.includes('prism.min.css')) {
                            link.disabled = false;
                        }
                    }
                });
            }
            
            // Initialize theme
            document.documentElement.setAttribute('data-theme', currentTheme);
            const toggleBtn = document.getElementById('theme-toggle');
            toggleBtn.innerHTML = currentTheme === 'light' ? '🌙' : '☀️';
            updatePrismTheme();

            async function makeRequest(endpoint, username, responseId) {
                const responseDiv = document.getElementById(responseId);
                responseDiv.style.display = 'block';
                responseDiv.innerHTML = '<div class="loading">Loading...</div>';
                
                const startTime = performance.now();
                
                try {
                    const response = await fetch(`${endpoint}?user=${username}`);
                    const data = await response.json();
                    
                    const endTime = performance.now();
                    const responseTime = (endTime - startTime).toFixed(2);
                    
                    if (response.ok) {
                        responseDiv.innerHTML = `<div class="success">✅ Success (${response.status}) - ⏱️ ${responseTime}ms</div><pre><code class="language-json">${JSON.stringify(data, null, 2)}</code></pre>`;
                    } else {
                        responseDiv.innerHTML = `<div class="error">❌ Error (${response.status}) - ⏱️ ${responseTime}ms</div><pre><code class="language-json">${JSON.stringify(data, null, 2)}</code></pre>`;
                    }
                    
                    // Highlight the code after inserting it
                    Prism.highlightAllUnder(responseDiv);
                } catch (error) {
                    const endTime = performance.now();
                    const responseTime = (endTime - startTime).toFixed(2);
                    responseDiv.innerHTML = `<div class="error">❌ Network Error - ⏱️ ${responseTime}ms</div><pre><code class="language-json">${error.message}</code></pre>`;
                    
                    // Highlight the code after inserting it
                    Prism.highlightAllUnder(responseDiv);
                }
            }

            function testGitUser() {
                const username = document.getElementById('git-user-input').value;
                makeRequest('https://api-git-leet-duo.vercel.app/api/git/user', username, 'git-user-response');
            }

            function testGitRepos() {
                const username = document.getElementById('git-repos-input').value;
                makeRequest('https://api-git-leet-duo.vercel.app/api/git/repos', username, 'git-repos-response');
            }

            function testGitReposCount() {
                const username = document.getElementById('git-repos-count-input').value;
                makeRequest('https://api-git-leet-duo.vercel.app/api/git/repos_count', username, 'git-repos-count-response');
            }

            function testGitLangs() {
                const username = document.getElementById('git-langs-input').value;
                makeRequest('https://api-git-leet-duo.vercel.app/api/git/langs', username, 'git-langs-response');
            }

            function testGitStreak() {
                const username = document.getElementById('git-streak-input').value;
                makeRequest('https://api-git-leet-duo.vercel.app/api/git/streak', username, 'git-streak-response');
            }

            function testGitCommit() {
                const username = document.getElementById('git-commit-input').value;
                makeRequest('https://api-git-leet-duo.vercel.app/api/git/commit', username, 'git-commit-response');
            }

            function testLeetUser() {
                const username = document.getElementById('leet-user-input').value;
                makeRequest('https://api-git-leet-duo.vercel.app/api/leet/user', username, 'leet-user-response');
            }

            function testDuoUser() {
                const username = document.getElementById('duo-user-input').value;
                makeRequest('https://api-git-leet-duo.vercel.app/api/duo/user', username, 'duo-user-response');
            }
        </script>
    </body>
</html>